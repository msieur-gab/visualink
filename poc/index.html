<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="QR Scanner POC with local storage">
    <meta name="theme-color" content="#ffffff">
    <title>QR Scanner POC</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container">
        <header>
            <h1>QR Scanner</h1>
            <p class="subtitle">Scan QR codes and store data locally</p>
        </header>

        <main>
            <!-- Camera Section -->
            <section class="section">
                <div class="section-header">
                    <h2>Scanner</h2>
                    <button id="toggleCamera" class="btn btn-secondary">Enable Camera</button>
                </div>

                <div id="cameraContainer" class="camera-container hidden">
                    <div id="scanner" style="width: 100%; max-width: 500px; margin: 0 auto;"></div>
                    <p class="hint">Point camera at QR code</p>
                </div>

                <div id="manualInput" class="manual-input">
                    <label for="urlInput">Or paste URL manually:</label>
                    <input type="url" id="urlInput" placeholder="https://qr.yourdomain.com/api/qr/tea001">
                    <button id="addManually" class="btn">Add</button>
                </div>
            </section>

            <!-- Scans History Section -->
            <section class="section">
                <div class="section-header">
                    <h2>Scanned QR Codes</h2>
                    <span id="scanCount" class="badge">0</span>
                </div>

                <div id="scansList" class="scans-list">
                    <div class="empty-state">
                        <p>No scans yet</p>
                    </div>
                </div>

                <button id="clearAll" class="btn btn-danger" style="display: none; width: 100%; margin-top: 16px;">Clear All</button>
            </section>

            <!-- Stats Section -->
            <section class="section">
                <h2>Storage Stats</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total Scans</div>
                        <div class="stat-value" id="totalScans">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Storage Used</div>
                        <div class="stat-value" id="storageUsed">0 KB</div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>POC for testing QR code integration patterns</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/dexie@3/dist/dexie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
